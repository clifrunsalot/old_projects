import java.awt.Color;
import java.awt.Component;
import java.awt.Container;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.event.*;
import java.awt.Font;
import java.awt.Insets;
import java.awt.Graphics;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Rectangle;
import java.awt.Toolkit;

import java.io.*;
import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.PrintWriter;
import java.io.PrintStream;

import java.util.Collections;
import java.util.Comparator;
import java.util.Vector;

import java.lang.Double;
import java.lang.Long;
import java.lang.Math;

import java.text.DecimalFormat;
import java.text.NumberFormat;
import java.text.ParseException;

import javax.swing.*;
import javax.swing.border.*;
import javax.swing.event.*;
import javax.swing.JDialog;
import javax.swing.JFormattedTextField.*;
import javax.swing.ProgressMonitor;
import javax.swing.SwingConstants;
import javax.swing.table.AbstractTableModel;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.table.DefaultTableColumnModel;
import javax.swing.table.TableColumnModel;
import javax.swing.table.TableColumn;

class PrintOptions extends JDialog
{
	public PrintOptions(Vector v)
	{
		setTitle("Select print options");
		p = new JPanel(new GridBagLayout());
		setDefaultCloseOperation(JDialog.EXIT_ON_CLOSE);

		//Print options
		indexChkBox         = new JCheckBox("Index");
		trackChkBox         = new JCheckBox("Track");
		latRadChkBox        = new JCheckBox("Latitude (rad)");
		longRadChkBox       = new JCheckBox("Longitude (rad)");
		latDegChkBox        = new JCheckBox("Latitude (deg)");
		longDegChkBox       = new JCheckBox("Longitude (deg)");
		offsetTimeMSChkBox  = new JCheckBox("Offset Time (ms)");
		offsetDistRadChkBox = new JCheckBox("Offset Distance (rad)");
		offsetDistKmChkBox  = new JCheckBox("Offset Distance (km)");
		offsetDistMiChkBox  = new JCheckBox("Offset Distance (mi)");
		offsetDistNMChkBox  = new JCheckBox("Offset Distance (nm)");
		selectAllChkBox     = new JCheckBox("Select All");
		
		printBtn            = new JButton("Print");
		cancelBtn           = new JButton("Cancel");

		fileNameTF          = new JTextField(40);

		//Action Command for use later when trying to determine the
		// selected options
		indexChkBox.setActionCommand("0");
		trackChkBox.setActionCommand("1");
		latRadChkBox.setActionCommand("2");
		longRadChkBox.setActionCommand("3");
		latDegChkBox.setActionCommand("4");
		longDegChkBox.setActionCommand("5");
		offsetTimeMSChkBox.setActionCommand("6");
		offsetDistRadChkBox.setActionCommand("7");
		offsetDistKmChkBox.setActionCommand("8");
		offsetDistMiChkBox.setActionCommand("9");
		offsetDistNMChkBox.setActionCommand("10");
	
		selectAllChkBox.setActionCommand("11");

		//Adding components to panel
		add(p,indexChkBox,1,1,1,1,"W");
		add(p,trackChkBox,1,2,1,1,"W");
		add(p,latRadChkBox,1,3,1,1,"W");
		add(p,longRadChkBox,1,4,1,1,"W");
		add(p,latDegChkBox,1,5,1,1,"W");
		add(p,longDegChkBox,1,6,1,1,"W");
		add(p,offsetTimeMSChkBox,2,1,1,1,"W");
		add(p,offsetDistRadChkBox,2,2,1,1,"W");
		add(p,offsetDistKmChkBox,2,3,1,1,"W");
		add(p,offsetDistMiChkBox,2,4,1,1,"W");
		add(p,offsetDistNMChkBox,2,5,1,1,"W");
		add(p,selectAllChkBox,1,7,2,1,"C");

		add(p,new JLabel("Filename: "),1,8,1,1,"W");
		add(p,fileNameTF,2,8,1,1,"W");
		
		add(p,printBtn,1,9,1,1,"C");
		add(p,cancelBtn,2,9,1,1,"C");

		//An array for all of the print options checkboxes
		printOptArray = new JCheckBox [] {indexChkBox,
													trackChkBox,
													latRadChkBox,
													longRadChkBox,
													latDegChkBox,
													longDegChkBox,
													offsetTimeMSChkBox,
													offsetDistRadChkBox,
													offsetDistKmChkBox,
													offsetDistMiChkBox,
													offsetDistNMChkBox,
													selectAllChkBox};
													
		getContentPane().add(p);
		pack();
		setVisible(true);

		selectAllChkBox.addActionListener
		(
		 	new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					//If SelectAll is not selected, then
					// unselect all print options.
					if(!selectAllChkBox.isSelected())
					{
						indexChkBox.setSelected(false);
						trackChkBox.setSelected(false);
						latRadChkBox.setSelected(false);
						longRadChkBox.setSelected(false);
						latDegChkBox.setSelected(false);
						longDegChkBox.setSelected(false);
						offsetTimeMSChkBox.setSelected(false);
						offsetDistRadChkBox.setSelected(false);
						offsetDistKmChkBox.setSelected(false);
						offsetDistMiChkBox.setSelected(false);
						offsetDistNMChkBox.setSelected(false);
					}
					else
					{	
						//Else, select all.
						indexChkBox.setSelected(true);
						trackChkBox.setSelected(true);
						latRadChkBox.setSelected(true);
						longRadChkBox.setSelected(true);
						latDegChkBox.setSelected(true);
						longDegChkBox.setSelected(true);
						offsetTimeMSChkBox.setSelected(true);
						offsetDistRadChkBox.setSelected(true);
						offsetDistKmChkBox.setSelected(true);
						offsetDistMiChkBox.setSelected(true);
						offsetDistNMChkBox.setSelected(true);
					}
				}
			}
		);

		printBtn.addActionListener
		(
		 	new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					if(areSelected() && fileNameTF.getValue() != null)
					{

					}
				}
			}
		);

		cancelBtn.addActionListener
		(
		 	new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					setVisible(false);
				}
			}
		);

	}

	public boolean areSelected()
	{
		for(int i=0; i<printOptArray.length; i++)
		{
			if(printOptArray[i].isSelected())
				return true;
		}
		return false;
	}

	public String [] getOptions()
	{
		String [] opts = new String[printOptArray.length];
		
		for(int opt=0; opt<=printOptArray.length; opt++)
		{
			opts[opt] = printOptArray[opt].getActionCommand();
		}
		return opts;
	}

	//Easy way to add components to a GridBagLayout.
	void add(Container c, Component comp, int x, int y, int w, int h, String anchor)
	{
		GridBagConstraints gbc = new GridBagConstraints();
		gbc.gridx              = x;
		gbc.gridy              = y;
		gbc.gridwidth          = w;
		gbc.gridheight         = h;
		gbc.insets             = new Insets(3,3,3,3);

		if      (anchor.equals("C")){gbc.anchor = GridBagConstraints.CENTER;}
		else if (anchor.equals("E")){gbc.anchor = GridBagConstraints.EAST;}
		else if (anchor.equals("W")){gbc.anchor = GridBagConstraints.WEST;}

		c.add(comp,gbc);
	}		
	
	private JPanel p;
	private JCheckBox [] printOptArray;
	private JCheckBox indexChkBox;
	private JCheckBox trackChkBox;
	private JCheckBox latRadChkBox;
	private JCheckBox longRadChkBox;
	private JCheckBox latDegChkBox;
	private JCheckBox longDegChkBox;
	private JCheckBox offsetTimeMSChkBox;
	private JCheckBox offsetDistRadChkBox;
	private JCheckBox offsetDistKmChkBox;
	private JCheckBox offsetDistMiChkBox;
	private JCheckBox offsetDistNMChkBox;
	private JCheckBox selectAllChkBox;

	private JButton printBtn;
	private JButton cancelBtn;

	private JTextField fileNameTF;
}

//Generic Class for progress bar.
//Just pass in max value and string to display in title bar.
//Use the update method to update the bar.
class MyProgressMonitor extends JDialog
{
    public MyProgressMonitor(String s,int records)
    {
        int baseofframe = 310;
        int heightofframe = 80;
        Toolkit tk = Toolkit.getDefaultToolkit();
        Dimension screen = tk.getScreenSize();
        int y_loc = (screen.height/2) - (heightofframe/2);
        int x_loc = (screen.width/2) - (baseofframe/2);
        setLocation(x_loc,y_loc);
        setTitle(s);
        setSize(baseofframe,heightofframe);
        totalRecords = records;
        p = new JPanel();
		p.setOpaque(true);
        progress = new JProgressBar();
        progress.setPreferredSize(new Dimension(280,20));
        progress.setMinimum(0);
        progress.setMaximum(totalRecords);
        progress.setValue(0);
        progress.setBounds(20,35,260,20);
        p.add(progress);
		container = getContentPane();
        container.add(p);
		setVisible(true);
    }//~public ProgressMonitor(i...

    public void update(int i)
    {
		if((totalRecords) <= i)
		{
			setVisible(false);
		}

        progress.setValue(i);
        Rectangle progressRect = p.getBounds();
        progressRect.x = 0;
        progressRect.y = 0;
        p.paintImmediately(progressRect);
    }//~public void update(int i...

    private int totalRecords;
    private JPanel p;
    private JProgressBar progress;
	private Container container;
}

class RangeVerifier extends InputVerifier 
{
	public RangeVerifier(Double s, Double e)
	{
		dStart = s;
		dEnd   = e;
		type = "double";
	}

	public RangeVerifier(Integer s, Integer e)
	{
		iStart = s;
		iEnd   = e;
		type = "integer";
	}

	public RangeVerifier(Long s, Long e)
	{
		lStart = s;
		lEnd   = e;
		type = "long";
	}
	
	public boolean verify(JComponent input) 
	{
		if (input instanceof JFormattedTextField) 
		{
			GenericTextField gtf = (GenericTextField)input;
			String text = gtf.getText();
			
			try
			{
				NumberFormat nf = NumberFormat.getNumberInstance();
				nf.setParseIntegerOnly(false);

				Number value = nf.parse(text);

				if (type.equals("double"))
				{
					if ((value.doubleValue() > (dStart.doubleValue() - 0.01)) 
							&& (value.doubleValue() <= dEnd.doubleValue()))
					{
						return true;
					}
					else
					{
						return false;
					}
				}
				else if(type.equals("integer"))
				{
					if ((value.intValue() > iStart.intValue()) 
							&& (value.intValue() <= iEnd.intValue()))
					{
						return true;
					}
					else
					{
						return false;
					}
				}
				else if(type.equals("long"))
				{
					if ((value.longValue() > lStart.longValue()) 
							&& (value.longValue() <= lEnd.longValue()))
					{
						return true;
					}
					else
					{
						return false;
					}
				}
			}
			catch (ParseException pe)
			{
				return false;
			}
		}
		return false; 
	}

	public boolean shouldYieldFocus(JComponent input)
	{
		return verify(input);
	}

	private String type;
	private Double dStart;
	private Double dEnd;
	private Integer iStart;
	private Integer iEnd;
	private Long lStart;
	private Long lEnd;
}

class GenericTextField extends JFormattedTextField
{
		public GenericTextField(NumberFormat format,
										int width,
										Double start, 
										Double end)
		{
			super(format);
			setHorizontalAlignment(JTextField.RIGHT);
			setColumns(width);
			setInputVerifier(new RangeVerifier(start,end));
		}

		public GenericTextField(NumberFormat format, 
										int width,
										Integer start, 
										Integer end)
		{
			super(format);
			setHorizontalAlignment(JTextField.RIGHT);
			setColumns(width);
			setInputVerifier(new RangeVerifier(start,end));
		}

		public GenericTextField(NumberFormat format,
										int width,
										Long start,
										Long end)
		{
			super(format);
			setHorizontalAlignment(JTextField.RIGHT);
			setColumns(width);
			setInputVerifier(new RangeVerifier(start,end));
		}

		public GenericTextField(NumberFormat format,
										int width)
		{
			super(format);
			setHorizontalAlignment(JTextField.RIGHT);
			setColumns(width);
			setEditable(false);
		}
}

strictfp class Point
{
	public Point(int trkID, double lt, double lg, double dist)
	{
		trackID    = trkID;
		latitude   = lt;
		longitude  = lg;
		distance   = dist;
	}

	public Point(int trkID, double lt, double lg, double dist, long tm)
	{
		trackID    = trkID;
		latitude   = lt;
		longitude  = lg;
		distance   = dist;
		timeOffset = tm;
	}

	public double getLongitude()
	{
		return longitude;
	}

	public double getLatitude()
	{
		return latitude;
	}

	public double getDistance()
	{
		return distance;
	}

	public double getLongDeg()
	{
		return ((longitude * 180)/Math.PI);
	}

	public double getLatDeg()
	{
		return ((latitude * 180)/Math.PI);
	}
	public double getDistanceKm()
	{
		double radiusEarthKms = 6366.71;
		return ((Math.toDegrees(distance)/180) * Math.PI * radiusEarthKms);
	}

	public double getDistanceMiles()
	{
		double radiusEarthMiles = 1.15077946 * 180 * 60 / Math.PI;
		return ((Math.toDegrees(distance)/180) * Math.PI * radiusEarthMiles);
	}

	public double getDistanceNms()
	{
		double radiusEarthNms = 3435.43;
		return ((180 * 60) / Math.PI) * distance;
	}
	public long getTimeOffset()
	{
		return timeOffset;
	}

	public int getTrackID()
	{
		return trackID;
	}

	private int trackID;
	private double longitude;
	private double latitude;
	private double distance;
	private long timeOffset;
}

class DoubleRenderer extends DefaultTableCellRenderer
{
    public DoubleRenderer()
	{
		super(); 
		setHorizontalAlignment(SwingConstants.RIGHT);
		format = NumberFormat.getNumberInstance();
		format.setMinimumFractionDigits(4);
		format.setMaximumFractionDigits(4);
	}

    public void setValue(Object value)
	{
       	setText(format.format(value));
    }

    private NumberFormat format;
}

class DistanceRenderer extends DefaultTableCellRenderer
{
    public DistanceRenderer()
	{
		super(); 
		setHorizontalAlignment(SwingConstants.RIGHT);
		format = NumberFormat.getNumberInstance();
		format.setMinimumFractionDigits(2);
		format.setMaximumFractionDigits(2);
	}

    public void setValue(Object value)
	{
       	setText(format.format(value));
    }

    private NumberFormat format;
}

class Distance extends Number
{
	public Distance(double d)
	{
		value = new Double(d);
	}

	public double doubleValue()
	{
		return value.doubleValue();
	}

	public float floatValue()
	{
		return (float)value.doubleValue();
	}

	public int intValue()
	{
		return (int)value.doubleValue();
	}

	public long longValue()
	{
		return (long)value.doubleValue();
	}

	private Double value;
}


class IndexTableModel extends DefaultTableModel
{
	public IndexTableModel(Vector p)
	{
		path = p;
		cols = 5;
		rows = p.size();
	}

	public int getRowCount()
	{
		return rows;
	}

	public int getColumnCount()
	{
		return cols;
	}

    public Class getColumnClass(int c) {
        return getValueAt(0, c).getClass();
    }

	public Object getValueAt(int r, int c)
	{
		Point p = (Point)path.elementAt(r);
		Object item = "";
		if (c == 0)
		{
			item = new Integer(r);
		}
		else if (c == 1)
		{
			item = new Integer(p.getTrackID());
		}
		else if (c == 2)
		{
			item = new Double(p.getLatDeg());
		}
		else if (c == 3)
		{
			item = new Double(p.getLongDeg());
		}
		else if (c == 4)
		{
			item = new Distance(p.getDistanceKm());
		}
		return item;
	}

	public String getColumnName(int c)
	{
		String item = "";
		if (c == 0)
		{
			item = new String("Index");
		}
		else if (c == 1)
		{
			item = new String("Track #");
		}
		else if (c == 2)
		{
			item = new String("Latitude");
		}
		else if (c == 3)
		{
			item = new String("Longitude");
		}
		else if (c == 4)
		{
			item = new String("Distance");
		}
		return item;
	}

	public boolean isCellEditable(int r, int c)
	{
		return false;
	}

	private int rows;
	private int cols;
	private Vector path;
}

class TimeTableModel extends DefaultTableModel
{
	public TimeTableModel(Vector p)
	{
		path = p;
		cols = 6;
		rows = p.size();
	}

	public int getRowCount()
	{
		return rows;
	}

	public int getColumnCount()
	{
		return cols;
	}

    public Class getColumnClass(int c) {
        return getValueAt(0, c).getClass();
    }

	public Object getValueAt(int r, int c)
	{
		Point p = (Point)path.elementAt(r);
		Object item = "";
		if (c == 0)
		{
			item = new Integer(r);
		}
		else if (c == 1)
		{
			item = new Integer(p.getTrackID());
		}
		else if (c == 2)
		{
			item = new Long(p.getTimeOffset());
		}
		else if (c == 3)
		{
			item = new Double(p.getLatDeg());
		}
		else if (c == 4)
		{
			item = new Double(p.getLongDeg());
		}
		else if (c == 5)
		{
			item = new Distance(p.getDistanceKm());
		}
		return item;
	}

	public String getColumnName(int c)
	{
		String item = "";
		if (c == 0)
		{
			item = new String("Index");
		}
		else if (c == 1)
		{
			item = new String("Track #");
		}
		else if (c == 2)
		{
			item = new String("Time Offset");
		}
		else if (c == 3)
		{
			item = new String("Latitude");
		}
		else if (c == 4)
		{
			item = new String("Longitude");
		}
		else if (c == 5)
		{
			item = new String("Distance Offset");
		}
		return item;
	}

	public boolean isCellEditable(int r, int c)
	{
		return false;
	}

	private int rows;
	private int cols;
	private Vector path;
}

class FlightPath
{
	public FlightPath(){}
	
	double getCourse(double oLat, double oLong, double dLat, double dLong, double dist)
	{
		double course = 0;

		//For negative west longitude, use:
		// (Math.sin(dLong - oLong) > 0)
		// For negative east longitude, use:
		//  (Math.sin(dLong - oLong < 0)
		//
		if (Math.sin(dLong - oLong) > 0)
		{
			course = Math.acos((Math.sin(dLat) - Math.sin(oLat) * Math.cos(dist)) /
					(Math.sin(dist) * Math.cos(oLat)));
		}
		else
		{
			course = 2 * Math.PI - Math.acos((Math.sin(dLat) - Math.sin(oLat) * Math.cos(dist)) /
					(Math.sin(dist) * Math.cos(oLat)));
		}

		return course;
	}

	public double getDistance(double timeMS, double spdKPH)
	{
		double dist = 0;
		if((timeMS > 0) && (spdKPH > 0))
		{
			double radiusEarthKms = 6366.71;
			dist = (timeMS * spdKPH) / (1000 * 60 * 60 * radiusEarthKms);
		}
		return dist;
	}

	public double getDistance(double oLat, double oLong, double dLat, double dLong)

	{
		return Math.acos(Math.sin(oLat) 
									* Math.sin(dLat) 
									+ Math.cos(oLat) 
									* Math.cos(dLat)
									* Math.cos(oLong - dLong));
	}

	public double getTimeMilliSecondsBasedOnKm(double dist, double spd)
	{
		double time = 0;
		if((dist > 0) && (spd > 0))
		{
			double radiusEarthKms = 6366.71;
			time = dist * radiusEarthKms * 1000 * 60 * 60 / spd;
		}
		return time;
	}

	public double toSeconds(double timeMs)
	{
		return (timeMs / 1000);
	}

	public double toMinutes(double timeMs)
	{
		return (timeMs / (1000 * 60));
	}

	public double toHours(double timeMs)
	{
		return (timeMs / (1000 * 60 * 60));
	}

	public double toKilometers(double distRadians)
	{
		double radiusEarthKms = 1.852 * 180 * 60 / Math.PI;
		return ((Math.toDegrees(distRadians)/180) * Math.PI * radiusEarthKms);
	}

	public double toMiles(double distRadians)
	{
		double radiusEarthMiles = 1.15077946 * 180 * 60 / Math.PI;
		return ((Math.toDegrees(distRadians)/180) * Math.PI * radiusEarthMiles);
	}

	public double toNauticalMiles(double distRadians)
	{
		double radiusEarthNms = 3435.43;
		return ((180 * 60) / Math.PI) * distRadians;
	}

	public double fromDegToRadians(double degree)
	{
		return degree * Math.PI / 180;
	}

	public double fromRadToDegrees(double radians)
	{
		return (180 / Math.PI) * radians;
	}
}

strictfp class IndexPath extends FlightPath
{
	public IndexPath(int trkID,
						double oLat, 
						double oLong,
						double dLat,
						double dLong,
						double alt,
						double incr)
	{
		indexPath     = new Vector();

		trackID       = trkID;
		origLat       = toRadians(oLat);
		origLong      = toRadians(oLong);
		destLat       = toRadians(dLat);
		destLong      = toRadians(dLong);
		altitude      = alt;
		increment     = incr;

		totalDistance = getDistance(origLat, origLong, destLat, destLong);
		course        = getCourse(origLat, origLong, destLat, destLong, totalDistance);
		calculatePath();
	}

	void calculatePath()
	{
		if(increment > 0)
		{
			Point p;
			double A     = 0;
			double B     = 0;
			double x     = 0;
			double y     = 0;
			double z     = 0;
			double iLat  = 0;
			double iLong = 0;
			double iAlt  = 0;
			double iDist = 0;

			for(int i=0; i<=increment; i++)
			{
					A     = Math.sin((1 - (i/increment)) * totalDistance) / Math.sin(totalDistance);
					B     = Math.sin((i/increment) * totalDistance) / Math.sin(totalDistance);
					x     = A * Math.cos(origLat) * Math.cos(origLong) + B * Math.cos(destLat) * Math.cos(destLong);
					y     = A * Math.cos(origLat) * Math.sin(origLong) + B * Math.cos(destLat) * Math.sin(destLong);
					z     = A * Math.sin(origLat)                      + B * Math.sin(destLat);
					iLat  = Math.atan2(z, Math.sqrt(Math.pow(x,2) + Math.pow(y,2)));
					iLong = Math.atan2(y, x);
					iAlt  = 0;
					iDist = getDistance(origLat,origLong,iLat,iLong);
					p = new Point(trackID, iLat, iLong, iDist);
					indexPath.addElement(p);
			}
		}
	}

	public Vector getPath()
	{
		return indexPath;
	}

	public double getDistanceRadians()
	{
		return totalDistance;
	}

	public double getCourse()
	{
		return course;
	}

	public int getTrackID()
	{
		return trackID;
	}

	public void printPath(PrintWriter stream, MyProgressMonitor monitor, String [] opts)
	{
		NumberFormat timeFormat = NumberFormat.getNumberInstance();
		timeFormat.setMaximumFractionDigits(0);

		NumberFormat degFormat = NumberFormat.getNumberInstance();
		degFormat.setMaximumFractionDigits(4);
		
		NumberFormat radFormat = NumberFormat.getNumberInstance();
		radFormat.setMaximumFractionDigits(6);
		
		NumberFormat distFormat = NumberFormat.getNumberInstance();
		distFormat.setMaximumFractionDigits(4);
		
		int size = path.size();

		for(int i=0; i<size; i++)
		{
			Point p = (Point)path.elementAt(i);

			for (int j=0; j<=opts.length; j++)
			{
				switch((new Integer(opts[0])).intValue())
				{
					case 0:
						stream.println("Index = " + i);
					case 1:
						stream.println("Track ID = " + p.getTrackID());
					case 2:
						stream.println("Latitude (rad) = " + radFormat.format(p.getLatitude()));
					case 3:
						stream.println("Longitude (rad) = " + degFormat.format(p.getLongitude()));
					case 4:
						stream.println("Latitude (deg) = " + radFormat.format(p.getLatDeg()));
					case 5:
						stream.println("Longitude (deg) = " + degFormat.format(p.getLongDeg()));
					case 6:
						stream.println("Offset Time (ms) = " + timeFormat.format(p.getTimeOffset()));
					case 7:
						stream.println("Offset Distance (rad) = " + radFormat.format(p.getDistance()));
					case 7:
						stream.println("Offset Distance (km) = " + distFormat.format(p.getDistanceKm()));
					case 8:
						stream.println("Offset Distance (mi) = " + distFormat.format(p.getDistanceMiles()));
					case 9:
						stream.println("OFfset Distance (nm) = " + distFormat.format(p.getDistanceNms()));
				}
			}

			stream.println();
			monitor.update(i);
		}
	}
	
	private int trackID;
	private double origLong,
						origLat,
						destLong,
						destLat,
						altitude,
						totalDistance,
						increment;
	private Point point;
	private Vector path;
}

strictfp class TimePath extends FlightPath
{
	public TimePath(long baseTm,
						int trkID,
						double oLat, 
						double oLong,
						double dLat,
						double dLong,
						double alt,
						double spd,
						long time)
	{
		path    = new Vector();

		baseTime      = baseTm;
		trackID       = trkID;
		origLat       = toRadians(oLat);
		origLong      = toRadians(oLong);
		destLat       = toRadians(dLat);
		destLong      = toRadians(dLong);
		altitude      = alt;
		speed         = spd;
		timeInterval  = time;

		totalDistance = getDistance(origLat, origLong, destLat, destLong);
		totalTimeMS   = getTimeMilliSecondsBasedOnKm(totalDistance,speed);
		course        = getCourse(origLat, origLong, destLat, destLong, totalDistance);

		calculatePath();
	}

	//Returns radius of curve at the latitude passed in.
	// Based on WGS84 Datum where:
	// Radius at Equator is 6,378,137 meters.
	// Radius at Pole is 6,356,752.3142 meters.
//	double getRadiusOfCurvature(double lat)
//	{
//		double radiusEquator = 6378137;
//		double radiusPole    = 6356752.3142;
//
//		double eccentricity = Math.sqrt(1 - (radiusPole ** 2) / (radiusEquator ** 2))
//		
//		return radiusEquator * ( 1 - (eccentricity ** 2))/(1 - (eccentricity ** 2) * (Math.sin(lat) ** 2)) ** (3/2);
//
//	}

	void calculatePath()
	{
		if ((timeInterval > 0) && (speed > 0)) 
		{
			long start       = timeInterval;
			double iDistance = 0;
			double iLat      = 0;
			double iLong     = 0;
			long offset      = 0;
			long lastOffset  = 0;
			Point p;

			// Get initial course based on orig/dest coordinates and total distance
			// 
			double course = getCourse(origLat, origLong, destLat, destLong, totalDistance);

			for(offset=0; offset<totalTimeMS; offset += timeInterval)
			{
				iDistance = getDistance(offset, speed);
				iLat      = getDestLat(origLat, course, iDistance);
				iLong     = getDestLong(origLong, origLat, iLat, course, iDistance);
				p         = new Point(trackID, iLat, iLong, iDistance, offset + baseTime);
				offsetPath.addElement(p);
				lastOffset = offset;
			}

			if(lastOffset < totalTimeMS)
			{
				long diff = (long)totalTimeMS - lastOffset;
				iDistance = iDistance + getDistance(diff, speed);
				iLat      = getDestLat(origLat, course, iDistance);
				iLong     = getDestLong(origLong, origLat, iLat, course, iDistance);
				p         = new Point(trackID, iLat, iLong, iDistance, (lastOffset + diff) + baseTime);
				offsetPath.addElement(p);
			}
		}
	}

	public Vector getPath()
	{
		return path;
	}

	public double getDistance()
	{
		return totalDistance;
	}

	public double getCourse()
	{
		return course;
	}

	public double getTimeMS()
	{
		return totalTimeMS;
	}

	public int getTrackID()
	{
		return trackID;
	}

	public void printTimeIntervalPath(PrintWriter stream, MyProgressMonitor monitor)
	{
		NumberFormat timeFormat = NumberFormat.getNumberInstance();
		timeFormat.setMaximumFractionDigits(0);

		NumberFormat degFormat = NumberFormat.getNumberInstance();
		degFormat.setMaximumFractionDigits(4);
		
		NumberFormat distFormat = NumberFormat.getNumberInstance();
		distFormat.setMaximumFractionDigits(4);
		
		int size = offsetPath.size();
		
		for(int i=0; i<size; i++)
		{
			Point p = (Point)offsetPath.elementAt(i);
			stream.println("Track ID             = " + p.getTrackID());
			stream.println("Time Offset (ms)     = " + timeFormat.format(p.getTimeOffset()));
			stream.println("Latitude (deg)       = " + degFormat.format(p.getLatDeg()));
			stream.println("Longitude (deg)      = " + degFormat.format(p.getLongDeg()));
			stream.println("Distance Offset (km) = " + distFormat.format(p.getDistanceKm()));
			stream.println();
			monitor.update(i);
		}
	}

	private int trackID;
	private double origLong,
						origLat,
						destLong,
						destLat,
						altitude,
						speed,
						totalDistance,
						totalTimeMS,
						course;
	private long timeInterval,
					baseTime;
	private Point point;
	private Vector path;
}

class MultiTrackFlightPath extends FlightPath
{
	public MultiTrackFlightPath(int numTrks,
										double offst,
										double oLat, 
										double oLong,
										double dLat,
										double dLong,
										double alt,
										double spd,
										double incr,
										long time)
	{
		path                = new Vector();

		trackCount          = numTrks;
		offsetBetweenTracks = offst;
		origLat             = oLat;
		origLong            = oLong;
		destLat             = dLat;
		destLong            = dLong;
		altitude            = alt;
		speed               = spd;
		increment           = incr;
		timeInterval        = time;

		calculatePath();
		sortPath();

		System.out.println("size: " + path.size());
	}

	void calculatePath()
	{
		long baseTime = System.currentTimeMillis();

		for(int track = 0; track <= trackCount; track++)
		{
			TimePath p = new TimePath(baseTime,
									track,
									origLat,
									origLong,
									destLat,
									destLong,
									altitude,
									speed,
									timeInterval);

			path.addAll(p.getPath());
			baseTime += offsetBetweenTracks;
		}
	}

	void sortPath()
	{
		Collections.sort
		(path, new Comparator()
			{
				public int compare(Object a, Object b)
				{
					long t1 = (long)((Point)a).getTimeOffset();
					long t2 = (long)((Point)b).getTimeOffset();
					
					if(t1 < t2) return -1;
					if(t1 > t2) return 1;
					return 0;
				}
			}
		);
	}

	public void printPath(PrintWriter stream, MyProgressMonitor monitor)
	{
		NumberFormat timeFormat = NumberFormat.getNumberInstance();
		timeFormat.setMaximumFractionDigits(0);

		NumberFormat degFormat = NumberFormat.getNumberInstance();
		degFormat.setMaximumFractionDigits(4);
		
		NumberFormat distFormat = NumberFormat.getNumberInstance();
		distFormat.setMaximumFractionDigits(4);

		int size = path.size();

		for(int i=0; i<size; i++)
		{
			Point p = (Point)path.elementAt(i);
			stream.println("Track ID             = " + p.getTrackID());
			stream.println("Time Offset (ms)     = " + timeFormat.format(p.getTimeOffset()));
			stream.println("Latitude (deg)       = " + degFormat.format(p.getLatDeg()));
			stream.println("Longitude (deg)      = " + degFormat.format(p.getLongDeg()));
			stream.println("Distance Offset (km) = " + distFormat.format(p.getDistanceKm()));
			stream.println();
			monitor.update(i);
		}
	}

	Vector getPath()
	{
		return path;
	}
							
	private Vector path;
	private double trackCount;
	private double offsetBetweenTracks;
	private double origLat;
	private double origLong;
	private double destLat;
	private double destLong;
	private double altitude;
	private double speed;
	private long timeInterval;
}

class FlightPathGui extends JFrame
{
	public FlightPathGui()
	{
		setTitle("Flight Path Generator");
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

		panel = new JPanel();
		panel.setLayout(new GridBagLayout());
		Border border = BorderFactory.createEtchedBorder(EtchedBorder.LOWERED);

		add(panel,new JLabel("Latitude"),2,1,1,1,"C");
		add(panel,new JLabel("Longitude"),3,1,1,1,"C");

		NumberFormat degFormat = NumberFormat.getNumberInstance();
		degFormat.setMaximumIntegerDigits(3);
		degFormat.setMinimumFractionDigits(4);
		degFormat.setMaximumFractionDigits(4);
		
		origLatTF  = new GenericTextField(degFormat,6,new Double(-90.0000),new Double(90.0000));
		origLongTF = new GenericTextField(degFormat,6,new Double(-180.0000),new Double(180.0000));
		destLatTF  = new GenericTextField(degFormat,6,new Double(-90.0000),new Double(90.0000));
		destLongTF = new GenericTextField(degFormat,6,new Double(-180.0000),new Double(180.0000));

		origLatTF.setValue(new Double(0.0000));
		origLongTF.setValue(new Double(0.0000));
		destLatTF.setValue(new Double(0.0000));
		destLongTF.setValue(new Double(0.0000));

		add(panel,new JLabel("Origin"),1,2,1,1,"E");
		add(panel,origLatTF,2,2,1,1,"E");
		add(panel,origLongTF,3,2,1,1,"E");
	
		add(panel,new JLabel("Destination"),1,3,1,1,"E");
		add(panel,destLatTF,2,3,1,1,"E");
		add(panel,destLongTF,3,3,1,1,"E");

		add(panel,Box.createRigidArea(new Dimension(20,20)),4,2,1,2,"C");
		reverseBtn = new JButton("Reverse Direction");
		add(panel,reverseBtn,5,2,1,2,"C");

		reverseBtn.addActionListener
		(
			new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					String oLat  = origLatTF.getValue().toString();
					String oLong = origLongTF.getValue().toString();
					String dLat  = destLatTF.getValue().toString();
					String dLong = destLongTF.getValue().toString();

					origLatTF.setValue(new Double(dLat));
					origLongTF.setValue(new Double(dLong));
					destLatTF.setValue(new Double(oLat));
					destLongTF.setValue(new Double(oLong));
				}
			}
		);

		JLabel warning = new JLabel("Prefix South Latitude and West Longitude with a '-'");
		warning.setFont(new Font("Courier", Font.PLAIN, 12));
		warning.setForeground(new Color(0xff0000));
		warningPanel = new JPanel();
		warningPanel.add(warning);

		topPanel = new JPanel();
		topPanel.setLayout(new BoxLayout(topPanel,BoxLayout.Y_AXIS));
		topPanel.setBorder(border);
		topPanel.add(panel);
		topPanel.add(warningPanel);

		NumberFormat intFormat = NumberFormat.getNumberInstance();
		intFormat.setMaximumIntegerDigits(10);
		intFormat.setMinimumFractionDigits(0);
		intFormat.setMaximumFractionDigits(0);

		middleLeftPanel = new JPanel(new GridBagLayout());
		middleLeftPanel.setBorder(border);

		altitudeTF = new GenericTextField(intFormat,6,new Integer(-1),new Integer(99999));
		altitudeTF.setValue(new Integer(0));
		add(middleLeftPanel,new JLabel("Altitude (m)"),1,1,1,1,"E");
		add(middleLeftPanel,altitudeTF,2,1,1,1,"W");
		
		speedTF = new GenericTextField(intFormat,8,new Integer(-1),new Integer(99999));
		speedTF.setValue(new Integer(0));
		add(middleLeftPanel,new JLabel("Speed (kph)"),3,1,1,1,"E");
		add(middleLeftPanel,speedTF,4,1,1,1,"W");

		intermediatePtTF = new GenericTextField(intFormat,6,new Integer(-1), new Integer(100000));
		intermediatePtTF.setValue(new Integer(0));
		add(middleLeftPanel,new JLabel("Index Points"),1,2,1,1,"E");
		add(middleLeftPanel,intermediatePtTF,2,2,1,1,"W");

		timeIntervalTF = new GenericTextField(intFormat,8,new Integer(-1), new Integer(1000000000));
		timeIntervalTF.setValue(new Integer(0));
		add(middleLeftPanel,new JLabel("Time Interval (ms)"),3,2,1,1,"E");
		add(middleLeftPanel,timeIntervalTF,4,2,1,1,"W");

		add(middleLeftPanel,new JLabel("Display Type: "),1,6,1,1,"E");

		indexBasedRadioBtn = new JRadioButton("Index");
		indexBasedRadioBtn.setSelected(true);

		timeBasedRadioBtn = new JRadioButton("Time");
		timeBasedRadioBtn.setSelected(false);

		ButtonGroup group = new ButtonGroup();
		group.add(indexBasedRadioBtn);
		group.add(timeBasedRadioBtn);

		add(middleLeftPanel,indexBasedRadioBtn,2,6,1,1,"E");
		add(middleLeftPanel,timeBasedRadioBtn,3,6,1,1,"E");

		middleRightPanel = new JPanel(new GridBagLayout());
		middleRightPanel.setBorder(border);

		singleTrackBtn = new JRadioButton("Single");
		singleTrackBtn.setSelected(true);
				
		multiTrackBtn = new JRadioButton("Multiple");
		multiTrackBtn.setSelected(false);

		ButtonGroup trackGrp = new ButtonGroup();
		trackGrp.add(singleTrackBtn);
		trackGrp.add(multiTrackBtn);

		multiTrackTF = new GenericTextField(intFormat,6,new Integer(-1),new Integer(10000));
		multiTrackTF.setValue(new Integer(0));
		offsetBetweenTracksTF = new GenericTextField(intFormat,6,new Integer(-1),new Integer(100000));
		offsetBetweenTracksTF.setValue(new Integer(0));
		
		singleTrackBtn.addActionListener
		(
		 	new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					indexBasedRadioBtn.setEnabled(true);
					timeBasedRadioBtn.setEnabled(true);
					multiTrackTF.setEnabled(false);
					offsetBetweenTracksTF.setEnabled(false);
				}
			}
		);

		multiTrackBtn.addActionListener
		(
		 	new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					indexBasedRadioBtn.setEnabled(false);
					timeBasedRadioBtn.setEnabled(false);
					multiTrackTF.setEnabled(true);
					offsetBetweenTracksTF.setEnabled(true);
				}
			}
		);

		add(middleRightPanel,new JLabel("Tracks"),1,1,2,1,"C");
		add(middleRightPanel,singleTrackBtn,1,2,1,1,"W");
		add(middleRightPanel,multiTrackBtn,1,3,1,1,"W");
		add(middleRightPanel,multiTrackTF,2,3,1,1,"W");
		add(middleRightPanel,new JLabel("Offset (ms): "),1,4,1,1,"E");
		add(middleRightPanel,offsetBetweenTracksTF,2,4,1,1,"W");

		middlePanel = new JPanel();
		middlePanel.setLayout(new BoxLayout(middlePanel,BoxLayout.X_AXIS));
		middlePanel.add(middleLeftPanel);
		middlePanel.add(middleRightPanel);

		NumberFormat radiansFormat = NumberFormat.getNumberInstance();
		radiansFormat.setMaximumFractionDigits(6);
		
		NumberFormat distanceTimeFormat = NumberFormat.getNumberInstance();
		distanceTimeFormat.setMaximumFractionDigits(2);

		radiansTF       = new GenericTextField(radiansFormat,10);
		kilometersTF    = new GenericTextField(distanceTimeFormat,10);
		milesTF         = new GenericTextField(distanceTimeFormat,10);
		nauticalMilesTF = new GenericTextField(distanceTimeFormat,10);
		headingRadTF    = new GenericTextField(radiansFormat,10);

		millisecondsTF  = new GenericTextField(distanceTimeFormat,10);
		secondsTF       = new GenericTextField(distanceTimeFormat,10);
		minutesTF       = new GenericTextField(distanceTimeFormat,10);
		hoursTF         = new GenericTextField(distanceTimeFormat,10);
		headingDegTF    = new GenericTextField(degFormat,10);
		
		distanceTimePanel = new JPanel(new GridBagLayout());
		distanceTimePanel.setBorder(border);

		add(distanceTimePanel,new JLabel("Distance"),2,1,1,1,"C");

		add(distanceTimePanel,new JLabel("Radians"),1,2,1,1,"E");
		add(distanceTimePanel,radiansTF,2,2,1,1,"E");

		add(distanceTimePanel,new JLabel("Kilometers"),1,3,1,1,"E");
		add(distanceTimePanel,kilometersTF,2,3,1,1,"E");

		add(distanceTimePanel,new JLabel("Miles"),1,4,1,1,"E");
		add(distanceTimePanel,milesTF,2,4,1,1,"E");

		add(distanceTimePanel,new JLabel("Nautical Miles"),1,5,1,1,"E");
		add(distanceTimePanel,nauticalMilesTF,2,5,1,1,"E");

		add(distanceTimePanel,new JLabel("Heading (rad)"),1,6,1,1,"E");
		add(distanceTimePanel,headingRadTF,2,6,1,1,"E");

		add(distanceTimePanel,new JLabel("Travel Time"),4,1,2,1,"C");
		
		add(distanceTimePanel,new JLabel("Milliseconds"),3,2,1,1,"E");
		add(distanceTimePanel,millisecondsTF,4,2,1,1,"E");

		add(distanceTimePanel,new JLabel("Seconds"),3,3,1,1,"E");
		add(distanceTimePanel,secondsTF,4,3,1,1,"E");

		add(distanceTimePanel,new JLabel("Minutes"),3,4,1,1,"E");
		add(distanceTimePanel,minutesTF,4,4,1,1,"E");

		add(distanceTimePanel,new JLabel("Hours"),3,5,1,1,"E");
		add(distanceTimePanel,hoursTF,4,5,1,1,"E");

		add(distanceTimePanel,new JLabel("Heading (deg)"),3,6,1,1,"E");
		add(distanceTimePanel,headingDegTF,4,6,1,1,"E");

		calculateBtn = new JButton("Calculate");
		exitBtn      = new JButton("Exit");
		printBtn     = new JButton("Print");

		bottomPanel = new JPanel();
		bottomPanel.setBorder(border);
		bottomPanel.add(calculateBtn);
		bottomPanel.add(printBtn);
		bottomPanel.add(exitBtn);

		table = new JTable();
		table.setColumnSelectionAllowed(true);
		table.setCellSelectionEnabled(true);
		JScrollPane scrollPane = new JScrollPane(table,
									JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,
									JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
		table.setPreferredScrollableViewportSize(new Dimension(300,300));
		table.setDefaultRenderer(Double.class,new DoubleRenderer());
		table.setDefaultRenderer(Distance.class,new DistanceRenderer());

		mainPanel = new JPanel();
		mainPanel.setOpaque(true);
		mainPanel.setLayout(new BoxLayout(mainPanel,BoxLayout.Y_AXIS));
		mainPanel.add(topPanel);
		mainPanel.add(middlePanel);
		mainPanel.add(distanceTimePanel);
		mainPanel.add(scrollPane);
		mainPanel.add(bottomPanel);

		getContentPane().add(mainPanel);
		pack();

		calculateBtn.addActionListener
		(
			new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					Double olat  = new Double(origLatTF.getValue().toString());
					Double olong = new Double(origLongTF.getValue().toString());
					Double dlat  = new Double(destLatTF.getValue().toString());
					Double dlong = new Double(destLongTF.getValue().toString());
			  		Double alt   = new Double(altitudeTF.getValue().toString());
			  		Double spd   = new Double(speedTF.getValue().toString());
					Double incre = new Double(intermediatePtTF.getValue().toString());
					Double time  = new Double(timeIntervalTF.getValue().toString());

					if(singleTrackBtn.isSelected())
					{
						if(indexBasedRadioBtn.isSelected())
						{
							
							indexPath = new IndexPath( 0,
															olat.doubleValue(), 
															olong.doubleValue(), 
															dlat.doubleValue(), 
															dlong.doubleValue(), 
															alt.doubleValue(), 
															incre.doubleValue());

							radiansTF.setValue(new Double(indexPath.getDistanceRadians()));
							kilometersTF.setValue(new Double(indexPath.toKilometers(indexPath.getDistanceRadians()));
							milesTF.setValue(new Double(indexPath.toMiles(indexPath.toMiles(indexPath.getDistanceRadians()));
							nauticalMilesTF.setValue(new Double(indexPath.toNauticalMiles(indexPath.getDistanceRadians()));
							headingRadTF.setValue(new Double(indexPath.getCourse());
							headingDegTF.setValue(new Double(indexPath.fromRadToDegrees(indexPath.getCourse())));

							IndexTableModel indexModel = new IndexTableModel(indexPath.getPath());
							table.setVisible(false);
							table.setModel(indexModel);
							table.setVisible(true);
						}
						else if(timeBasedRadioBtn.isSelected())
						{
							timePath = new timePath(System.currentTimeMillis(),
															0,
															olat.doubleValue(), 
															olong.doubleValue(), 
															dlat.doubleValue(), 
															dlong.doubleValue(), 
															alt.doubleValue(), 
															spd.doubleValue(),
															time.longValue());

							radiansTF.setValue(new Double(timePath.getDistance()));
							kilometersTF.setValue(new Double(timePath.toKilometers(timePath.getDistance())));
							milesTF.setValue(new Double(timePath.toMiles(timePath.getDistance())));
							nauticalMilesTF.setValue(new Double(timePath.toNauticalMiles(timePath.getDistance())));
							headingRadTF.setValue(new Double(timePath.getCourse()));
							millisecondsTF.setValue(new Double(timePath.getTimeMS()));
							secondsTF.setValue(new Double(timePath.toSeconds(timePath.getTimeMS())));
							minutesTF.setValue(new Double(timePath.toMinutes(timePath.getTimeMS())));
							hoursTF.setValue(new Double(timePath.toHours(timePath.getTimeMS())));
							headingDegTF.setValue(new Double(timePath.fromRadToDegrees(timePath.getCourse())));
					
							TimeTableModel timeModel = new TimeTableModel(timePath.getPath());
							table.setVisible(false);
							table.setModel(timeModel);
							table.setVisible(true);
						}
						
					}
					else
					{
						Integer trackCount = new Integer(multiTrackTF.getValue().toString());
						Integer offset     = new Integer(offsetBetweenTracksTF.getValue().toString());
						
						multiTrackFlightPath = new MultiTrackFlightPath(trackCount.intValue(),
																offset.intValue(),
																olat.doubleValue(), 
																olong.doubleValue(), 
																dlat.doubleValue(), 
																dlong.doubleValue(), 
																alt.doubleValue(), 
																spd.doubleValue(),
																time.longValue());

						TimeTableModel multiTrackModel = new TimeTableModel(multiTrackFlightPath.getPath());
						table.setVisible(false);
						table.setModel(multiTrackModel);
						table.setVisible(true);
					}
				}
			}
		);

		exitBtn.addActionListener
		(
		 	new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
					System.exit(0);
				}
			}
		);

		printBtn.addActionListener
		(
		 	new ActionListener()
			{
				public void actionPerformed(ActionEvent e)
				{
				}
			}
		);
	}

	//Easy way to add components to a GridBagLayout panel.
	void add(Container c, Component comp, int x, int y, int w, int h, String anchor)
	{
		GridBagConstraints gbc = new GridBagConstraints();
		gbc.gridx              = x;
		gbc.gridy              = y;
		gbc.gridwidth          = w;
		gbc.gridheight         = h;
		gbc.insets             = new Insets(3,3,3,3);

		if      (anchor.equals("C")){gbc.anchor = GridBagConstraints.CENTER;}
		else if (anchor.equals("E")){gbc.anchor = GridBagConstraints.EAST;}
		else if (anchor.equals("W")){gbc.anchor = GridBagConstraints.WEST;}

		c.add(comp,gbc);
	}		

	private JPanel mainPanel,
					panel,
					warningPanel,
					topPanel,
					middleLeftPanel,
					middleRightPanel,
					middlePanel,
					distanceTimePanel,
					bottomPanel;

	private JButton calculateBtn,
							exitBtn,
							reverseBtn,
							printBtn;

	private JRadioButton indexBasedRadioBtn,
								timeBasedRadioBtn,
								singleTrackBtn,
								multiTrackBtn;

	private GenericTextField origLongTF,
							origLatTF,
							destLongTF,
							destLatTF,
							altitudeTF,
							speedTF,
							intermediatePtTF,
							timeIntervalTF,
							radiansTF,
							kilometersTF,
							milesTF,
							nauticalMilesTF,
							millisecondsTF,
							secondsTF,
							minutesTF,
							hoursTF,
							headingRadTF,
							headingDegTF,
							multiTrackTF,
							offsetBetweenTracksTF;

	private JTable table;

	private FlightPath indexPath, timePath, multiTrackFlightPath;

	private String printFilename;

}


public class createFlightPath
{
	public static void main(String [] args)
	{
		FlightPathGui path = new FlightPathGui();
		path.setVisible(true);
	}
}
