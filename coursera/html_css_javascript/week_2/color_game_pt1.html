<!doctype html>
<html>
<head>
  <title>Guess the color game</title>
</head>
<body onload="do_game();">

<script>

  // Array of colors
  var colors = ["darkkhaki",
                "forestgreen",
                "lightblue",
                "black",
                "mediumaquamarine",
                "orchid",
                "seashell",
                "yellowgreen"];

  // Sort alphabetically just in case.
  colors.sort();
  console.log(colors);

  // Tracking variables
  var attempts = 0;
  var finished = false;
  var random_number = -1;
  var correct_color = "";
  var choice = "";

  // Main function of game.
  function do_game(){

    // Generate a number between 0 and the last index of the color array
    random_number = Math.floor(Math.random() * colors.length);
    console.log("colors.length: " + colors.length);
    console.log("random_number: " + random_number);

    // Get color
    correct_color = colors[random_number];
    alert("The correct color is " + correct_color);
    console.log("Correct color: " + correct_color);

    // loop for getting user guesses
    while(!finished){

      choice = prompt("I am thinking of one of these colors: \n\n" +
                  colors.join("\n") + "\n\n" +
                "What color am I thinking of?");
      console.log("User guess: " + choice);

      if (choice != null) {

        var user_choice = choice.trim();

        // If the color is not empty, check value.
        // Otherwise, ignore blank to avoid an error.
        if (user_choice != ""){

          // change user choice to lowercase for easier testing.
          var lc_choice = user_choice.toLowerCase();
          var lc_answer = correct_color.toLowerCase();

          if (lc_choice === lc_answer){
            finished = true;
          }
        }
      }
    }
  }

</script>
</body>
</html>
